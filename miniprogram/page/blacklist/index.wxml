<view class="page" data-weui-theme="{{theme}}">
  <view class="container">
    <view class="blacklist-section">
      <view class="section-header">
        <view class="section-title">🛡️ 防骗预警</view>
        <view class="section-subtitle">避坑指南，保护您的财产安全</view>
      </view>

      <!-- 加载状态 -->
      <view wx:if="{{loading}}" class="loading-container">
        <text class="loading-text">加载中...</text>
      </view>

      <!-- 错误状态 -->
      <view wx:elif="{{error}}" class="error-container">
        <text class="error-text">获取数据失败，请稍后重试</text>
        <button class="retry-btn" bindtap="retry">重试</button>
      </view>

      <!-- 黑名单列表 - 通栏列表 -->
      <block wx:else>
        <view wx:if="{{items.length === 0}}" class="empty-container">
          <text class="empty-text">暂无预警信息</text>
        </view>
        <view wx:else class="items-list">
          <view 
            wx:for="{{items}}" 
            wx:key="id"
            wx:for-item="item"
            class="list-item"
            bindtap="viewItem"
            data-item="{{item}}"
          >
            <view class="list-item-left">
              <view class="warning-badge">避坑</view>
            </view>
            <view class="list-item-content">
              <view class="list-item-title">{{item.title}}</view>
              <view wx:if="{{item.type}}" class="list-item-type">{{item.type}}</view>
            </view>
            <view class="list-item-right">
              <text wx:if="{{item.date}}" class="list-item-date">{{item.date}}</text>
              <text class="list-item-arrow">></text>
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>
</view>

